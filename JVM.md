# JVM

JVM内存模型

Java虚拟机(Java Virtual Machine=JVM)的内存空间分为五个部分，分别是：

1. 程序计数器 2. Java虚拟机栈 3. 本地方法栈 4. 堆 5. 方法区

### 程序计数器

程序计数器里面记录的是当前线程正在执行的那一条字节码指令的地址。

作用：

字节码解释器通过改变程序计数器来依次读取指令，从而实现代码的流程控制，如：顺序执行、选择、循环、异常处理。

在多线程的情况下，程序计数器用于记录当前线程执行的位置，从而当线程被切换回来的时候能够知道该线程上次运行到哪儿了。

特点：

是一块较小的存储空间

线程私有。每条线程都有一个程序计数器。

是唯一一个不会出现OutOfMemoryError的内存区域。

生命周期随着线程的创建而创建，随着线程的结束而死亡。

###  **Java虚拟机栈(JVM Stack)**

Java虚拟机栈是描述Java方法运行过程的内存模型。

当一个方法即将被运行时，Java虚拟机栈首先会在Java虚拟机栈中为该方法创建一块“栈帧”，栈帧中包含局部变量表、操作数栈、动态链接、方法出口信息等。当方法在运行过程中需要创建局部变量时，就将局部变量的值存入栈帧的局部变量表中。 

当这个方法执行完毕后，这个方法所对应的栈帧将会出栈，并释放内存空间。

